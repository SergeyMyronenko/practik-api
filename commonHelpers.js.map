{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// https://unsplash.com/documentation#search-photos\n\nimport axios from 'axios';\n\nconst formEl = document.querySelector(\".js-search-form\");\nconst listEl = document.querySelector(\".js-gallery\");\nconst page = 1;\n\nformEl.addEventListener(\"submit\", onSubmit)\n\nasync function onSubmit(event) {\n  event.preventDefault();\n  const query = event.target.elements[\"user-search-query\"].value.trim();\n\n  if (!query) {\n    return alert(\"Error enter any symbols\")\n  }\n\n\n  try {\n    const {data: {results, total}} = await getPhotos(query, page)\n    listEl.innerHTML = createMarkup(results);\n    alert(`We found ${total} photos`)\n \n  } catch (error) {\n    console.log(\"Error\");\n  }\n  \n\n\n}\n\nfunction createMarkup(arr=[]) {\n  return arr.map(photo => `<li class='gallery__item'>\n  <img src='${photo.urls.small}' alt='${photo.alt_description}' class='gallery-img' />\n</li>`).join(\"\")\n}\n\nfunction getPhotos(query, page) {\n  axios.defaults.baseURL = 'https://api.unsplash.com';\n  axios.defaults.headers.common['Authorization'] =\n    'Client-ID LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc';\n\n  return axios.get('/search/photos', {\n    params: {\n      query,\n      page,\n      per_page: 12,\n      orientation: 'portrait',\n    },\n  });\n}\n\n"],"names":["formEl","listEl","page","onSubmit","event","query","results","total","getPhotos","createMarkup","arr","photo","axios"],"mappings":"svBAIA,MAAMA,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAO,EAEbF,EAAO,iBAAiB,SAAUG,CAAQ,EAE1C,eAAeA,EAASC,EAAO,CAC7BA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,qBAAqB,MAAM,OAE/D,GAAI,CAACC,EACH,OAAO,MAAM,yBAAyB,EAIxC,GAAI,CACF,KAAM,CAAC,KAAM,CAAC,QAAAC,EAAS,MAAAC,CAAK,CAAC,EAAI,MAAMC,EAAUH,EAAOH,CAAI,EAC5DD,EAAO,UAAYQ,EAAaH,CAAO,EACvC,MAAM,YAAYC,UAAc,CAEjC,MAAC,CACA,QAAQ,IAAI,OAAO,CACpB,CAIH,CAEA,SAASE,EAAaC,EAAI,GAAI,CAC5B,OAAOA,EAAI,IAAIC,GAAS;AAAA,cACZA,EAAM,KAAK,eAAeA,EAAM;AAAA,MACxC,EAAE,KAAK,EAAE,CACf,CAEA,SAASH,EAAUH,EAAOH,EAAM,CAC9B,OAAAU,EAAM,SAAS,QAAU,2BACzBA,EAAM,SAAS,QAAQ,OAAO,cAC5B,wDAEKA,EAAM,IAAI,iBAAkB,CACjC,OAAQ,CACN,MAAAP,EACA,KAAAH,EACA,SAAU,GACV,YAAa,UACd,CACL,CAAG,CACH"}